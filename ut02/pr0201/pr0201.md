# PR0201: Instalación y configuración de un ERP

## PR0201: Entorno de producción de desarrollo contenerizado

[SOURCE](https://github.com/rossxrio/sge_cmmr/blob/main/ut04/pr0201/pr0201.md)

```yml
version: '3'
services:
# DEV ENVIROMENT
    # NOMBRE DEL SERVICIO
    devdb:
        # IMAGEN DE POSTGRES
        image: postgres:14
        container_name: devdb
        # VARIABLES DE ENTORNO
        enviroment:
            -POSTRGRES_DB = devpostgres
            -POSTRGRES_USER = devdb
            -POSTRGRES_PASSWORD = paso
        # PUERTOS MAPEADOS A LA MAQUINA
        ports:
            -'5433:5432'
        # VOLUMEN MAPEADOS A LA MAQUINA
        volumes:
            - ~/odoo_desarollo/data_pg:/var/lib/postgresql/data
    # NOMBRE DEL SERVICIO
    devodoo:
        # IMAGEN DE POSTGRES
        image: odoo:16
        container_name: devodoo
        # VARIABLES DE ENTORNO
        enviroment:
            -HOST = devodoo
            -USER = odoo
            -POSTRGRES_PASSWORD = paso
        # PUERTOS MAPEADOS A LA MAQUINA
        ports:
            - '8070:8069'
        # VOLUMENES DE DESAROLLO MAPEADOS A LA MAQUINA
        volumes:
            - ~/odoo_desarollo/volumesOdoo/addons:/mnt/extra-addons
            - ~/odoo_desarollo/volumesOdoo/firestore:/var/lib/odoo/firestore
            - ~/odoo_desarollo/volumesOdoo/sessions:/var/lib/odoo/sessions
        # INDICAR A ODOO QUE DEPNDE DE LA BASE DE DATOS devdb
        depends_on:
            - devdb
        # ARRANCAR ODOO CON EL PARAMETRO DEV
        command: --dev = all

# PROD ENVIROMENT
    proddb:
        image: postgres:14
        container_name: proddb
        enviroment:
            -POSTRGRES_DB = prodpostgres
            -POSTRGRES_USER = proddb
            -POSTRGRES_PASSWORD = paso
        ports:
            -'5432:5432'
        volumes:
            - ~/odoo_desarollo/data_pg:/var/lib/postgresql/data
    prododoo:
        image: odoo:16
        container_name: prododoo
        enviroment:
            -HOST = prododoo
            -USER = odoo
            -POSTRGRES_PASSWORD = paso
        ports:
            - '8069:8069'
        # VOLUMENES DE DESAROLLO MAPEADOS A LA MAQUINA
        volumes:
            - ~/odoo_desarollo/volumesOdoo/addons:/mnt/extra-addons
        depends_on:
            - proddb
```

[<- BACK](../index.md)
